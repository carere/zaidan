{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "scroll-area",
  "dependencies": [],
  "registryDependencies": [],
  "files": [
    {
      "path": "src/registry/ui/scroll-area.tsx",
      "content": "import {\n  type ComponentProps,\n  createEffect,\n  createSignal,\n  type JSX,\n  mergeProps,\n  onCleanup,\n  onMount,\n  splitProps,\n} from \"solid-js\";\nimport { cn } from \"@/lib/utils\";\n\ntype ScrollAreaProps = ComponentProps<\"div\"> & {\n  class?: string | undefined;\n  children?: JSX.Element;\n};\n\nconst ScrollArea = (rawProps: ScrollAreaProps) => {\n  const props = mergeProps({}, rawProps);\n  const [local, others] = splitProps(props, [\"class\", \"children\"]);\n\n  let viewportRef: HTMLDivElement | undefined;\n  const [hasOverflowY, setHasOverflowY] = createSignal(false);\n  const [hasOverflowX, setHasOverflowX] = createSignal(false);\n\n  const checkOverflow = () => {\n    if (viewportRef) {\n      setHasOverflowY(viewportRef.scrollHeight > viewportRef.clientHeight);\n      setHasOverflowX(viewportRef.scrollWidth > viewportRef.clientWidth);\n    }\n  };\n\n  onMount(() => {\n    checkOverflow();\n    const resizeObserver = new ResizeObserver(checkOverflow);\n    if (viewportRef) {\n      resizeObserver.observe(viewportRef);\n    }\n    onCleanup(() => resizeObserver.disconnect());\n  });\n\n  return (\n    <div\n      data-slot=\"scroll-area\"\n      class={cn(\"cn-scroll-area relative\", local.class)}\n      data-has-overflow-y={hasOverflowY() || undefined}\n      data-has-overflow-x={hasOverflowX() || undefined}\n      {...others}\n    >\n      <div\n        ref={viewportRef}\n        data-slot=\"scroll-area-viewport\"\n        class=\"cn-scroll-area-viewport size-full overflow-auto rounded-[inherit] outline-none transition-[color,box-shadow] focus-visible:outline-1 focus-visible:ring-[3px] focus-visible:ring-ring/50\"\n      >\n        {local.children}\n      </div>\n      <ScrollBar orientation=\"vertical\" viewportRef={() => viewportRef} />\n      <ScrollBar orientation=\"horizontal\" viewportRef={() => viewportRef} />\n      <div data-slot=\"scroll-area-corner\" class=\"cn-scroll-area-corner\" />\n    </div>\n  );\n};\n\ntype ScrollBarProps = ComponentProps<\"div\"> & {\n  class?: string | undefined;\n  orientation?: \"vertical\" | \"horizontal\";\n  viewportRef?: () => HTMLDivElement | undefined;\n};\n\nconst ScrollBar = (rawProps: ScrollBarProps) => {\n  const props = mergeProps({ orientation: \"vertical\" as const }, rawProps);\n  const [local, others] = splitProps(props, [\"class\", \"orientation\", \"viewportRef\"]);\n\n  let scrollbarRef: HTMLDivElement | undefined;\n  let thumbRef: HTMLDivElement | undefined;\n\n  const [thumbSize, setThumbSize] = createSignal(0);\n  const [thumbPosition, setThumbPosition] = createSignal(0);\n  const [isVisible, setIsVisible] = createSignal(false);\n  const [isHovering, setIsHovering] = createSignal(false);\n  const [isScrolling, setIsScrolling] = createSignal(false);\n  const [isDragging, setIsDragging] = createSignal(false);\n\n  let scrollTimeout: number | undefined;\n  let dragStartPosition = 0;\n  let dragStartScroll = 0;\n\n  const isVertical = () => local.orientation === \"vertical\";\n\n  const updateThumb = () => {\n    const viewport = local.viewportRef?.();\n    if (!viewport || !scrollbarRef) return;\n\n    const scrollSize = isVertical() ? viewport.scrollHeight : viewport.scrollWidth;\n    const clientSize = isVertical() ? viewport.clientHeight : viewport.clientWidth;\n    const scrollPosition = isVertical() ? viewport.scrollTop : viewport.scrollLeft;\n    const trackSize = isVertical() ? scrollbarRef.clientHeight : scrollbarRef.clientWidth;\n\n    if (scrollSize <= clientSize) {\n      setIsVisible(false);\n      return;\n    }\n\n    setIsVisible(true);\n    const ratio = clientSize / scrollSize;\n    const size = Math.max(ratio * trackSize, 20);\n    const maxPosition = trackSize - size;\n    const position = (scrollPosition / (scrollSize - clientSize)) * maxPosition;\n\n    setThumbSize(size);\n    setThumbPosition(position);\n  };\n\n  const handleScroll = () => {\n    updateThumb();\n    setIsScrolling(true);\n    if (scrollTimeout) {\n      clearTimeout(scrollTimeout);\n    }\n    scrollTimeout = window.setTimeout(() => {\n      setIsScrolling(false);\n    }, 1000);\n  };\n\n  const handleThumbPointerDown = (e: PointerEvent) => {\n    e.preventDefault();\n    setIsDragging(true);\n    dragStartPosition = isVertical() ? e.clientY : e.clientX;\n    const viewport = local.viewportRef?.();\n    if (viewport) {\n      dragStartScroll = isVertical() ? viewport.scrollTop : viewport.scrollLeft;\n    }\n    (e.target as HTMLElement).setPointerCapture(e.pointerId);\n  };\n\n  const handleThumbPointerMove = (e: PointerEvent) => {\n    if (!isDragging()) return;\n\n    const viewport = local.viewportRef?.();\n    if (!viewport || !scrollbarRef) return;\n\n    const currentPosition = isVertical() ? e.clientY : e.clientX;\n    const delta = currentPosition - dragStartPosition;\n    const trackSize = isVertical() ? scrollbarRef.clientHeight : scrollbarRef.clientWidth;\n    const scrollSize = isVertical() ? viewport.scrollHeight : viewport.scrollWidth;\n    const clientSize = isVertical() ? viewport.clientHeight : viewport.clientWidth;\n    const scrollRatio = (scrollSize - clientSize) / (trackSize - thumbSize());\n    const newScroll = dragStartScroll + delta * scrollRatio;\n\n    if (isVertical()) {\n      viewport.scrollTop = newScroll;\n    } else {\n      viewport.scrollLeft = newScroll;\n    }\n  };\n\n  const handleThumbPointerUp = (e: PointerEvent) => {\n    setIsDragging(false);\n    (e.target as HTMLElement).releasePointerCapture(e.pointerId);\n  };\n\n  const handleTrackClick = (e: MouseEvent) => {\n    if (e.target === thumbRef) return;\n\n    const viewport = local.viewportRef?.();\n    if (!viewport || !scrollbarRef) return;\n\n    const rect = scrollbarRef.getBoundingClientRect();\n    const clickPosition = isVertical() ? e.clientY - rect.top : e.clientX - rect.left;\n    const trackSize = isVertical() ? scrollbarRef.clientHeight : scrollbarRef.clientWidth;\n    const scrollSize = isVertical() ? viewport.scrollHeight : viewport.scrollWidth;\n    const clientSize = isVertical() ? viewport.clientHeight : viewport.clientWidth;\n    const scrollRatio = clickPosition / trackSize;\n    const newScroll = scrollRatio * (scrollSize - clientSize);\n\n    if (isVertical()) {\n      viewport.scrollTop = newScroll;\n    } else {\n      viewport.scrollLeft = newScroll;\n    }\n  };\n\n  createEffect(() => {\n    const viewport = local.viewportRef?.();\n    if (!viewport) return;\n\n    viewport.addEventListener(\"scroll\", handleScroll);\n    updateThumb();\n\n    const resizeObserver = new ResizeObserver(updateThumb);\n    resizeObserver.observe(viewport);\n\n    onCleanup(() => {\n      viewport.removeEventListener(\"scroll\", handleScroll);\n      resizeObserver.disconnect();\n      if (scrollTimeout) {\n        clearTimeout(scrollTimeout);\n      }\n    });\n  });\n\n  return (\n    // biome-ignore lint/a11y/useKeyWithClickEvents: Scrollbar is a visual enhancement, keyboard users use native scroll\n    // biome-ignore lint/a11y/useFocusableInteractive: Scrollbar is a visual enhancement, keyboard users use native scroll\n    <div\n      ref={scrollbarRef}\n      role=\"scrollbar\"\n      aria-controls=\"scroll-area-viewport\"\n      aria-valuenow={thumbPosition()}\n      data-slot=\"scroll-area-scrollbar\"\n      data-orientation={local.orientation}\n      data-hovering={isHovering() || undefined}\n      data-scrolling={isScrolling() || undefined}\n      class={cn(\n        \"cn-scroll-area-scrollbar flex touch-none select-none p-px transition-colors\",\n        isVertical()\n          ? \"absolute top-0 right-0 h-full w-2.5 border-l border-l-transparent p-px\"\n          : \"absolute bottom-0 left-0 h-2.5 w-full border-t border-t-transparent p-px\",\n        !isVisible() && \"hidden\",\n        local.class,\n      )}\n      onMouseEnter={() => setIsHovering(true)}\n      onMouseLeave={() => setIsHovering(false)}\n      onClick={handleTrackClick}\n      {...others}\n    >\n      <div\n        ref={thumbRef}\n        data-slot=\"scroll-area-thumb\"\n        data-orientation={local.orientation}\n        class=\"cn-scroll-area-thumb relative flex-1 rounded-full bg-border\"\n        style={{\n          [isVertical() ? \"height\" : \"width\"]: `${thumbSize()}px`,\n          [isVertical() ? \"top\" : \"left\"]: `${thumbPosition()}px`,\n          position: \"absolute\",\n          [isVertical() ? \"width\" : \"height\"]: \"100%\",\n        }}\n        onPointerDown={handleThumbPointerDown}\n        onPointerMove={handleThumbPointerMove}\n        onPointerUp={handleThumbPointerUp}\n      />\n    </div>\n  );\n};\n\nexport { ScrollArea, ScrollBar };\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}
