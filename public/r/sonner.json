{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "sonner",
  "dependencies": [
    "@kobalte/core",
    "lucide-solid"
  ],
  "registryDependencies": [],
  "files": [
    {
      "path": "src/registry/ui/sonner.tsx",
      "content": "import type { PolymorphicProps } from \"@kobalte/core/polymorphic\";\nimport * as ToastPrimitive from \"@kobalte/core/toast\";\nimport { CircleAlert, CircleCheck, CircleX, Info, Loader2, X } from \"lucide-solid\";\nimport type { Accessor, ComponentProps, JSX, ValidComponent } from \"solid-js\";\nimport {\n  createContext,\n  createEffect,\n  createSignal,\n  Match,\n  mergeProps,\n  onCleanup,\n  Show,\n  splitProps,\n  Switch,\n  useContext,\n} from \"solid-js\";\nimport { Portal } from \"solid-js/web\";\n\nimport { cn } from \"@/lib/utils\";\n\n/* -------------------------------------------------------------------------------------------------\n * Toast Context for stacking state\n * -----------------------------------------------------------------------------------------------*/\n\ntype ToastContextValue = {\n  expanded: Accessor<boolean>;\n  position: Accessor<\"top\" | \"bottom\">;\n};\n\nconst ToastContext = createContext<ToastContextValue>();\n\nconst useToastContext = () => {\n  const context = useContext(ToastContext);\n  if (!context) {\n    throw new Error(\"useToastContext must be used within a Toaster\");\n  }\n  return context;\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Toast Region (Toaster)\n * -----------------------------------------------------------------------------------------------*/\n\ntype ToasterProps = ToastPrimitive.ToastRegionProps &\n  Pick<ComponentProps<\"div\">, \"class\"> & {\n    /**\n     * Position of the toasts\n     * @default \"top-center\"\n     */\n    position?:\n      | \"top-left\"\n      | \"top-center\"\n      | \"top-right\"\n      | \"bottom-left\"\n      | \"bottom-center\"\n      | \"bottom-right\";\n    /**\n     * Gap between toasts when expanded (in pixels)\n     * @default 14\n     */\n    gap?: number;\n    /**\n     * Whether to expand toasts on hover\n     * @default true\n     */\n    expand?: boolean;\n    /**\n     * Delay before collapsing toasts after mouse leaves (in ms)\n     * @default 200\n     */\n    closeDelay?: number;\n  };\n\nconst positionClasses: Record<NonNullable<ToasterProps[\"position\"]>, string> = {\n  \"top-left\": \"top-0 left-0 items-start\",\n  \"top-center\": \"top-0 left-1/2 -translate-x-1/2 items-center\",\n  \"top-right\": \"top-0 right-0 items-end\",\n  \"bottom-left\": \"bottom-0 left-0 items-start\",\n  \"bottom-center\": \"bottom-0 left-1/2 -translate-x-1/2 items-center\",\n  \"bottom-right\": \"bottom-0 right-0 items-end\",\n};\n\nconst Toaster = (props: ToasterProps) => {\n  const mergedProps = mergeProps(\n    {\n      swipeDirection: \"right\",\n      pauseOnInteraction: true,\n      pauseOnPageIdle: true,\n      duration: 5000,\n      limit: 3,\n      position: \"top-center\",\n      gap: 14,\n      expand: true,\n      closeDelay: 200,\n    } as ToasterProps,\n    props,\n  );\n  const [local, others] = splitProps(mergedProps, [\n    \"class\",\n    \"position\",\n    \"gap\",\n    \"expand\",\n    \"closeDelay\",\n  ]);\n\n  const [expanded, setExpanded] = createSignal(false);\n  let closeTimeout: ReturnType<typeof setTimeout> | undefined;\n\n  const handleMouseEnter = () => {\n    if (!local.expand) return;\n    if (closeTimeout) {\n      clearTimeout(closeTimeout);\n      closeTimeout = undefined;\n    }\n    setExpanded(true);\n  };\n\n  const handleMouseLeave = () => {\n    if (!local.expand) return;\n    closeTimeout = setTimeout(() => {\n      setExpanded(false);\n    }, local.closeDelay);\n  };\n\n  onCleanup(() => {\n    if (closeTimeout) {\n      clearTimeout(closeTimeout);\n    }\n  });\n\n  const yPosition = () => (local.position?.startsWith(\"top\") ? \"top\" : \"bottom\");\n\n  // Inject the stacking CSS\n  createEffect(() => {\n    const styleId = \"sonner-stacking-styles\";\n    if (document.getElementById(styleId)) return;\n\n    const style = document.createElement(\"style\");\n    style.id = styleId;\n    style.textContent = `\n      /* Toast stacking system */\n      [data-sonner-toaster] {\n        --gap: ${local.gap}px;\n        --offset: 0px;\n        pointer-events: none;\n      }\n\n      [data-sonner-toaster] > ol {\n        pointer-events: auto;\n      }\n\n      /* Base toast positioning */\n      [data-sonner-toast] {\n        --lift: 1;\n        --index: 0;\n        --toasts-before: 0;\n        --z-index: 0;\n        --scale: 1;\n        --y: 0px;\n        position: relative;\n        transition: transform 400ms cubic-bezier(0.25, 1, 0.5, 1),\n                    opacity 400ms cubic-bezier(0.25, 1, 0.5, 1),\n                    height 400ms cubic-bezier(0.25, 1, 0.5, 1);\n      }\n\n      /* Y position variants */\n      [data-sonner-toaster][data-y-position=\"top\"] [data-sonner-toast] {\n        --lift: 1;\n      }\n\n      [data-sonner-toaster][data-y-position=\"bottom\"] [data-sonner-toast] {\n        --lift: -1;\n      }\n\n      /* Collapsed state - toasts behind front */\n      [data-sonner-toaster][data-expanded=\"false\"] [data-sonner-toast]:not(:first-child) {\n        position: absolute;\n        top: 0;\n        left: 0;\n        right: 0;\n        opacity: 0;\n        pointer-events: none;\n      }\n\n      [data-sonner-toaster][data-expanded=\"false\"] [data-sonner-toast]:nth-child(2) {\n        --toasts-before: 1;\n        opacity: 0.8;\n        transform: translateY(calc(var(--lift) * var(--gap) * 0.5)) scale(0.95);\n      }\n\n      [data-sonner-toaster][data-expanded=\"false\"] [data-sonner-toast]:nth-child(3) {\n        --toasts-before: 2;\n        opacity: 0.6;\n        transform: translateY(calc(var(--lift) * var(--gap) * 1)) scale(0.90);\n      }\n\n      [data-sonner-toaster][data-expanded=\"false\"] [data-sonner-toast]:nth-child(n+4) {\n        opacity: 0;\n        transform: translateY(calc(var(--lift) * var(--gap) * 1.5)) scale(0.85);\n      }\n\n      /* Expanded state - all toasts visible */\n      [data-sonner-toaster][data-expanded=\"true\"] [data-sonner-toast] {\n        position: relative;\n        opacity: 1;\n        transform: none;\n        pointer-events: auto;\n      }\n\n      /* Content fade when collapsed */\n      [data-sonner-toaster][data-expanded=\"false\"] [data-sonner-toast]:not(:first-child) > * {\n        opacity: 0;\n        transition: opacity 200ms;\n      }\n\n      [data-sonner-toaster][data-expanded=\"true\"] [data-sonner-toast] > * {\n        opacity: 1;\n        transition: opacity 400ms;\n      }\n\n      /* Hover area extension to prevent accidental collapse */\n      [data-sonner-toaster][data-expanded=\"true\"]::after {\n        content: '';\n        position: absolute;\n        top: 100%;\n        left: 0;\n        right: 0;\n        height: 20px;\n      }\n\n      [data-sonner-toaster][data-y-position=\"bottom\"][data-expanded=\"true\"]::after {\n        top: auto;\n        bottom: 100%;\n      }\n    `;\n    document.head.appendChild(style);\n  });\n\n  return (\n    <ToastContext.Provider value={{ expanded, position: yPosition }}>\n      <Portal>\n        <ToastPrimitive.Region\n          data-slot=\"toaster\"\n          data-sonner-toaster=\"\"\n          data-expanded={expanded()}\n          data-y-position={yPosition()}\n          onMouseEnter={handleMouseEnter}\n          onMouseMove={handleMouseEnter}\n          onMouseLeave={handleMouseLeave}\n          {...others}\n        >\n          <ToastPrimitive.List\n            data-slot=\"toast-list\"\n            class={cn(\n              \"cn-toast-list fixed z-[100] flex w-full flex-col gap-[--gap] p-4 outline-none sm:max-w-[420px]\",\n              yPosition() === \"bottom\" && \"flex-col-reverse\",\n              local.position && positionClasses[local.position],\n              local.class,\n            )}\n          />\n        </ToastPrimitive.Region>\n      </Portal>\n    </ToastContext.Provider>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Toast Root\n * -----------------------------------------------------------------------------------------------*/\n\ntype ToastVariant = \"default\" | \"success\" | \"error\" | \"warning\" | \"info\" | \"loading\";\n\ntype ToastProps<T extends ValidComponent = \"li\"> = PolymorphicProps<\n  T,\n  ToastPrimitive.ToastRootProps<T>\n> &\n  Pick<ComponentProps<\"li\">, \"class\" | \"children\"> & {\n    variant?: ToastVariant;\n  };\n\nconst Toast = <T extends ValidComponent = \"li\">(props: ToastProps<T>) => {\n  const mergedProps = mergeProps({ variant: \"default\" } as ToastProps, props);\n  const [local, others] = splitProps(mergedProps as ToastProps, [\"class\", \"children\", \"variant\"]);\n\n  return (\n    <ToastPrimitive.Root\n      data-slot=\"toast\"\n      data-sonner-toast=\"\"\n      data-variant={local.variant}\n      class={cn(\n        \"cn-toast group pointer-events-auto relative flex w-full items-center justify-between gap-4 overflow-hidden rounded-lg border bg-background p-4 pr-8 shadow-lg\",\n        \"data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-(--kb-toast-swipe-end-x) data-[swipe=move]:translate-x-(--kb-toast-swipe-move-x) data-[swipe=move]:transition-none\",\n        \"data-[opened]:animate-in data-[opened]:fade-in-0 data-[opened]:slide-in-from-top-full\",\n        \"data-[closed]:animate-out data-[closed]:fade-out-80 data-[closed]:slide-out-to-right-full\",\n        local.class,\n      )}\n      {...others}\n    >\n      {local.children}\n    </ToastPrimitive.Root>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Toast Close Button\n * -----------------------------------------------------------------------------------------------*/\n\ntype ToastCloseButtonProps<T extends ValidComponent = \"button\"> = PolymorphicProps<\n  T,\n  ToastPrimitive.ToastCloseButtonProps<T>\n> &\n  Pick<ComponentProps<\"button\">, \"class\">;\n\nconst ToastCloseButton = <T extends ValidComponent = \"button\">(props: ToastCloseButtonProps<T>) => {\n  const [local, others] = splitProps(props as ToastCloseButtonProps, [\"class\"]);\n\n  return (\n    <ToastPrimitive.CloseButton\n      data-slot=\"toast-close-button\"\n      class={cn(\n        \"cn-toast-close-button absolute top-2 right-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100\",\n        local.class,\n      )}\n      {...others}\n    >\n      <X class=\"size-4\" />\n    </ToastPrimitive.CloseButton>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Toast Title\n * -----------------------------------------------------------------------------------------------*/\n\ntype ToastTitleProps<T extends ValidComponent = \"div\"> = PolymorphicProps<\n  T,\n  ToastPrimitive.ToastTitleProps<T>\n> &\n  Pick<ComponentProps<\"div\">, \"class\">;\n\nconst ToastTitle = <T extends ValidComponent = \"div\">(props: ToastTitleProps<T>) => {\n  const [local, others] = splitProps(props as ToastTitleProps, [\"class\"]);\n\n  return (\n    <ToastPrimitive.Title\n      data-slot=\"toast-title\"\n      class={cn(\"cn-toast-title text-sm font-semibold\", local.class)}\n      {...others}\n    />\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Toast Description\n * -----------------------------------------------------------------------------------------------*/\n\ntype ToastDescriptionProps<T extends ValidComponent = \"div\"> = PolymorphicProps<\n  T,\n  ToastPrimitive.ToastDescriptionProps<T>\n> &\n  Pick<ComponentProps<\"div\">, \"class\">;\n\nconst ToastDescription = <T extends ValidComponent = \"div\">(props: ToastDescriptionProps<T>) => {\n  const [local, others] = splitProps(props as ToastDescriptionProps, [\"class\"]);\n\n  return (\n    <ToastPrimitive.Description\n      data-slot=\"toast-description\"\n      class={cn(\"cn-toast-description text-sm opacity-90\", local.class)}\n      {...others}\n    />\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Toast Progress\n * -----------------------------------------------------------------------------------------------*/\n\ntype ToastProgressTrackProps<T extends ValidComponent = \"div\"> = PolymorphicProps<\n  T,\n  ToastPrimitive.ToastProgressTrackProps<T>\n> &\n  Pick<ComponentProps<\"div\">, \"class\">;\n\nconst ToastProgressTrack = <T extends ValidComponent = \"div\">(\n  props: ToastProgressTrackProps<T>,\n) => {\n  const [local, others] = splitProps(props as ToastProgressTrackProps, [\"class\"]);\n\n  return (\n    <ToastPrimitive.ProgressTrack\n      data-slot=\"toast-progress-track\"\n      class={cn(\n        \"cn-toast-progress-track absolute inset-x-0 bottom-0 h-1 overflow-hidden\",\n        local.class,\n      )}\n      {...others}\n    />\n  );\n};\n\ntype ToastProgressFillProps<T extends ValidComponent = \"div\"> = PolymorphicProps<\n  T,\n  ToastPrimitive.ToastProgressFillProps<T>\n> &\n  Pick<ComponentProps<\"div\">, \"class\">;\n\nconst ToastProgressFill = <T extends ValidComponent = \"div\">(props: ToastProgressFillProps<T>) => {\n  const [local, others] = splitProps(props as ToastProgressFillProps, [\"class\"]);\n\n  return (\n    <ToastPrimitive.ProgressFill\n      data-slot=\"toast-progress-fill\"\n      class={cn(\n        \"cn-toast-progress-fill h-full w-(--kb-toast-progress-fill-width) transition-all\",\n        local.class,\n      )}\n      {...others}\n    />\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Toast Action\n * -----------------------------------------------------------------------------------------------*/\n\ntype ToastActionProps = ComponentProps<\"div\">;\n\nconst ToastAction = (props: ToastActionProps) => {\n  const [local, others] = splitProps(props, [\"class\"]);\n\n  return (\n    <div data-slot=\"toast-action\" class={cn(\"cn-toast-action shrink-0\", local.class)} {...others} />\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Toast Icon\n * -----------------------------------------------------------------------------------------------*/\n\ntype ToastIconProps = {\n  variant?: ToastVariant;\n  class?: string;\n};\n\nconst ToastIcon = (props: ToastIconProps) => {\n  const mergedProps = mergeProps({ variant: \"default\" } as ToastIconProps, props);\n\n  return (\n    <Switch>\n      <Match when={mergedProps.variant === \"success\"}>\n        <CircleCheck\n          data-slot=\"toast-icon\"\n          class={cn(\"cn-toast-icon size-5 shrink-0 text-emerald-500\", mergedProps.class)}\n        />\n      </Match>\n      <Match when={mergedProps.variant === \"error\"}>\n        <CircleX\n          data-slot=\"toast-icon\"\n          class={cn(\"cn-toast-icon size-5 shrink-0 text-destructive\", mergedProps.class)}\n        />\n      </Match>\n      <Match when={mergedProps.variant === \"warning\"}>\n        <CircleAlert\n          data-slot=\"toast-icon\"\n          class={cn(\"cn-toast-icon size-5 shrink-0 text-amber-500\", mergedProps.class)}\n        />\n      </Match>\n      <Match when={mergedProps.variant === \"info\"}>\n        <Info\n          data-slot=\"toast-icon\"\n          class={cn(\"cn-toast-icon size-5 shrink-0 text-blue-500\", mergedProps.class)}\n        />\n      </Match>\n      <Match when={mergedProps.variant === \"loading\"}>\n        <Loader2\n          data-slot=\"toast-icon\"\n          class={cn(\n            \"cn-toast-icon size-5 shrink-0 animate-spin text-muted-foreground\",\n            mergedProps.class,\n          )}\n        />\n      </Match>\n    </Switch>\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Toast Content (convenience wrapper)\n * -----------------------------------------------------------------------------------------------*/\n\ntype ToastContentProps = ComponentProps<\"div\">;\n\nconst ToastContent = (props: ToastContentProps) => {\n  const [local, others] = splitProps(props, [\"class\"]);\n\n  return (\n    <div\n      data-slot=\"toast-content\"\n      class={cn(\"cn-toast-content flex flex-col gap-1\", local.class)}\n      {...others}\n    />\n  );\n};\n\n/* -------------------------------------------------------------------------------------------------\n * Toaster API (imperative toast function)\n * -----------------------------------------------------------------------------------------------*/\n\ntype ToastOptions = {\n  title?: string;\n  description?: string;\n  duration?: number;\n  action?: JSX.Element;\n  onDismiss?: () => void;\n  onAutoClose?: () => void;\n};\n\ntype ShowToastOptions = ToastOptions & {\n  variant?: ToastVariant;\n};\n\n/**\n * Creates a styled toast element for use with Kobalte's toaster\n */\nfunction createToastContent(options: ShowToastOptions): JSX.Element {\n  const { variant = \"default\", title, description, action } = options;\n\n  return (\n    <>\n      <Show when={variant !== \"default\"}>\n        <ToastIcon variant={variant} />\n      </Show>\n      <ToastContent>\n        <Show when={title}>\n          <ToastTitle>{title}</ToastTitle>\n        </Show>\n        <Show when={description}>\n          <ToastDescription>{description}</ToastDescription>\n        </Show>\n      </ToastContent>\n      <Show when={action}>\n        <ToastAction>{action}</ToastAction>\n      </Show>\n      <ToastCloseButton />\n    </>\n  );\n}\n\n/**\n * Toast API object - provides imperative methods to show toasts\n *\n * @example\n * ```tsx\n * import { toast, Toaster } from \"@/registry/ui/sonner\"\n *\n * // In your app root\n * <Toaster />\n *\n * // Show toasts\n * toast.show({ title: \"Event created\" })\n * toast.success({ title: \"Saved!\", description: \"Your changes have been saved.\" })\n * toast.error({ title: \"Error\", description: \"Something went wrong.\" })\n * toast.warning({ title: \"Warning\", description: \"Please review your input.\" })\n * toast.info({ title: \"Info\", description: \"Here's some information.\" })\n * toast.loading({ title: \"Loading...\", description: \"Please wait.\" })\n * ```\n */\nconst toast = {\n  /**\n   * Show a toast with the specified options\n   */\n  show(options: ShowToastOptions | string) {\n    const opts: ShowToastOptions = typeof options === \"string\" ? { title: options } : options;\n    return ToastPrimitive.toaster.show((toastProps) => (\n      <Toast toastId={toastProps.toastId} variant={opts.variant} duration={opts.duration}>\n        {createToastContent(opts)}\n      </Toast>\n    ));\n  },\n\n  /**\n   * Show a success toast\n   */\n  success(options: ToastOptions | string) {\n    const opts: ToastOptions = typeof options === \"string\" ? { title: options } : options;\n    return this.show({ ...opts, variant: \"success\" });\n  },\n\n  /**\n   * Show an error toast\n   */\n  error(options: ToastOptions | string) {\n    const opts: ToastOptions = typeof options === \"string\" ? { title: options } : options;\n    return this.show({ ...opts, variant: \"error\" });\n  },\n\n  /**\n   * Show a warning toast\n   */\n  warning(options: ToastOptions | string) {\n    const opts: ToastOptions = typeof options === \"string\" ? { title: options } : options;\n    return this.show({ ...opts, variant: \"warning\" });\n  },\n\n  /**\n   * Show an info toast\n   */\n  info(options: ToastOptions | string) {\n    const opts: ToastOptions = typeof options === \"string\" ? { title: options } : options;\n    return this.show({ ...opts, variant: \"info\" });\n  },\n\n  /**\n   * Show a loading toast\n   */\n  loading(options: ToastOptions | string) {\n    const opts: ToastOptions = typeof options === \"string\" ? { title: options } : options;\n    return this.show({ ...opts, variant: \"loading\" });\n  },\n\n  /**\n   * Update an existing toast\n   */\n  update<T>(id: number, render: (props: ToastPrimitive.ToastComponentProps<T>) => JSX.Element) {\n    return ToastPrimitive.toaster.update(id, render);\n  },\n\n  /**\n   * Dismiss a toast by ID\n   */\n  dismiss(id: number) {\n    return ToastPrimitive.toaster.dismiss(id);\n  },\n\n  /**\n   * Clear all toasts\n   */\n  clear() {\n    return ToastPrimitive.toaster.clear();\n  },\n\n  /**\n   * Show a promise toast that updates based on promise state\n   */\n  promise<T, U = unknown>(\n    promise: Promise<T> | (() => Promise<T>),\n    options: {\n      loading: ToastOptions | string;\n      success: ToastOptions | string | ((data: T) => ToastOptions | string);\n      error: ToastOptions | string | ((error: U) => ToastOptions | string);\n    },\n  ) {\n    const loadingOpts: ToastOptions =\n      typeof options.loading === \"string\" ? { title: options.loading } : options.loading;\n\n    return ToastPrimitive.toaster.promise(promise, (props) => (\n      <Toast\n        toastId={props.toastId}\n        variant={\n          props.state === \"pending\" ? \"loading\" : props.state === \"fulfilled\" ? \"success\" : \"error\"\n        }\n      >\n        <Switch>\n          <Match when={props.state === \"pending\"}>\n            {createToastContent({ ...loadingOpts, variant: \"loading\" })}\n          </Match>\n          <Match when={props.state === \"fulfilled\"}>\n            {(() => {\n              const successOpts =\n                typeof options.success === \"function\"\n                  ? options.success(props.data as T)\n                  : options.success;\n              const opts: ToastOptions =\n                typeof successOpts === \"string\" ? { title: successOpts } : successOpts;\n              return createToastContent({ ...opts, variant: \"success\" });\n            })()}\n          </Match>\n          <Match when={props.state === \"rejected\"}>\n            {(() => {\n              const errorOpts =\n                typeof options.error === \"function\"\n                  ? options.error(props.error as U)\n                  : options.error;\n              const opts: ToastOptions =\n                typeof errorOpts === \"string\" ? { title: errorOpts } : errorOpts;\n              return createToastContent({ ...opts, variant: \"error\" });\n            })()}\n          </Match>\n        </Switch>\n      </Toast>\n    ));\n  },\n};\n\nexport {\n  Toaster,\n  Toast,\n  ToastCloseButton,\n  ToastTitle,\n  ToastDescription,\n  ToastProgressTrack,\n  ToastProgressFill,\n  ToastAction,\n  ToastIcon,\n  ToastContent,\n  toast,\n};\nexport type { ToasterProps, ToastProps, ToastVariant, ToastOptions };\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}