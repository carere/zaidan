{
  "$schema": "https://ui.shadcn.com/schema/registry-item.json",
  "name": "combobox",
  "dependencies": ["@kobalte/core", "lucide-solid"],
  "registryDependencies": ["input-group"],
  "files": [
    {
      "path": "src/registry/kobalte/ui/combobox.tsx",
      "content": "import type {\n  ComboboxContentProps as ComboboxPrimitiveContentProps,\n  ComboboxControlProps as ComboboxPrimitiveControlProps,\n  ComboboxInputProps as ComboboxPrimitiveInputProps,\n  ComboboxItemProps as ComboboxPrimitiveItemProps,\n  ComboboxSectionProps as ComboboxPrimitiveSectionProps,\n  ComboboxTriggerProps as ComboboxPrimitiveTriggerProps,\n  ComboboxRootProps,\n} from \"@kobalte/core/combobox\";\nimport * as ComboboxPrimitive from \"@kobalte/core/combobox\";\nimport type { PolymorphicProps } from \"@kobalte/core/polymorphic\";\nimport { Check, ChevronsUpDown, X } from \"lucide-solid\";\nimport type { ComponentProps, JSX, ValidComponent } from \"solid-js\";\nimport { mergeProps, Show, splitProps } from \"solid-js\";\nimport { cn } from \"@/lib/utils\";\nimport {\n  InputGroup,\n  InputGroupAddon,\n  InputGroupButton,\n  InputGroupInput,\n} from \"@/registry/ui/input-group\";\n\n// ============================================================================\n// Combobox Root\n// ============================================================================\n\ntype ComboboxProps<O, OptGroup = never, T extends ValidComponent = \"div\"> = PolymorphicProps<\n  T,\n  ComboboxRootProps<O, OptGroup, T>\n> &\n  Pick<ComponentProps<T>, \"class\" | \"children\">;\n\nconst Combobox = <O, OptGroup = never, T extends ValidComponent = \"div\">(\n  props: ComboboxProps<O, OptGroup, T>,\n) => {\n  const mergedProps = mergeProps(\n    {\n      sameWidth: true,\n      gutter: 8,\n      placement: \"bottom\",\n      defaultFilter: \"contains\",\n      triggerMode: \"input\",\n    } as ComboboxProps<O>,\n    props,\n  );\n  return <ComboboxPrimitive.Root {...mergedProps} />;\n};\n\n// ============================================================================\n// Combobox Control\n// ============================================================================\n\ntype ComboboxControlProps<T extends ValidComponent = \"div\"> = PolymorphicProps<\n  T,\n  ComboboxPrimitiveControlProps<T>\n> &\n  Pick<ComponentProps<T>, \"class\" | \"children\">;\n\nconst ComboboxControl = <T extends ValidComponent = \"div\">(props: ComboboxControlProps<T>) => {\n  const [local, others] = splitProps(props as ComboboxControlProps, [\"class\"]);\n  return (\n    <ComboboxPrimitive.Control\n      class={cn(\"cn-combobox-control\", local.class)}\n      data-slot=\"combobox-control\"\n      {...others}\n    />\n  );\n};\n\n// ============================================================================\n// Combobox Input\n// ============================================================================\n\ntype ComboboxInputProps<T extends ValidComponent = \"input\"> = PolymorphicProps<\n  T,\n  ComboboxPrimitiveInputProps<T>\n> &\n  Pick<ComponentProps<\"input\">, \"class\" | \"placeholder\" | \"disabled\" | \"id\" | \"name\"> & {\n    showTrigger?: boolean;\n    showClear?: boolean;\n    children?: JSX.Element;\n  };\n\nconst ComboboxInput = <T extends ValidComponent = \"input\">(rawProps: ComboboxInputProps<T>) => {\n  const props = mergeProps({ showTrigger: true, showClear: false }, rawProps);\n  const [local, others] = splitProps(props as ComboboxInputProps, [\n    \"class\",\n    \"showTrigger\",\n    \"showClear\",\n    \"children\",\n    \"disabled\",\n  ]);\n\n  return (\n    <ComboboxPrimitive.Control\n      as={InputGroup}\n      class={cn(\"cn-combobox-input w-auto\", local.class)}\n      data-slot=\"combobox-control\"\n    >\n      {(state) => (\n        <>\n          {local.children}\n          <ComboboxPrimitive.Input\n            as={InputGroupInput}\n            disabled={local.disabled}\n            data-slot=\"combobox-input\"\n            {...others}\n          />\n          <InputGroupAddon align=\"inline-end\">\n            <Show when={local.showTrigger}>\n              <ComboboxPrimitive.Trigger\n                as={InputGroupButton}\n                size=\"icon-xs\"\n                variant=\"ghost\"\n                data-slot=\"combobox-trigger\"\n                class=\"group-has-data-[slot=combobox-clear]/input-group:hidden data-pressed:bg-transparent\"\n                disabled={local.disabled}\n              >\n                <ComboboxPrimitive.Icon\n                  as={ChevronsUpDown}\n                  class=\"cn-combobox-trigger-icon pointer-events-none\"\n                />\n              </ComboboxPrimitive.Trigger>\n            </Show>\n            <Show when={local.showClear && state.selectedOptions().length > 0}>\n              <InputGroupButton\n                variant=\"ghost\"\n                size=\"icon-xs\"\n                data-slot=\"combobox-clear\"\n                class=\"cn-combobox-clear\"\n                disabled={local.disabled}\n                onClick={() => state.clear()}\n              >\n                <X class=\"cn-combobox-clear-icon pointer-events-none\" />\n              </InputGroupButton>\n            </Show>\n          </InputGroupAddon>\n        </>\n      )}\n    </ComboboxPrimitive.Control>\n  );\n};\n\n// ============================================================================\n// Combobox Trigger (for popup-style combobox)\n// ============================================================================\n\ntype ComboboxTriggerProps<T extends ValidComponent = \"button\"> = PolymorphicProps<\n  T,\n  ComboboxPrimitiveTriggerProps<T>\n> &\n  Pick<ComponentProps<T>, \"class\" | \"children\"> & {\n    size?: \"sm\" | \"default\";\n  };\n\nconst ComboboxTrigger = <T extends ValidComponent = \"button\">(\n  rawProps: ComboboxTriggerProps<T>,\n) => {\n  const props = mergeProps({ size: \"default\" }, rawProps);\n  const [local, others] = splitProps(props as ComboboxTriggerProps, [\"class\", \"children\", \"size\"]);\n\n  return (\n    <ComboboxPrimitive.Control>\n      <ComboboxPrimitive.Trigger\n        class={cn(\n          \"cn-combobox-trigger cn-select-trigger flex w-fit items-center justify-between whitespace-nowrap outline-none disabled:cursor-not-allowed disabled:opacity-50 *:data-[slot=combobox-value]:line-clamp-1 *:data-[slot=combobox-value]:flex *:data-[slot=combobox-value]:items-center [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n          local.class,\n        )}\n        data-size={local.size}\n        data-slot=\"combobox-trigger\"\n        {...others}\n      >\n        {local.children}\n        <ComboboxPrimitive.Icon\n          as={ChevronsUpDown}\n          class=\"cn-combobox-trigger-icon pointer-events-none\"\n        />\n      </ComboboxPrimitive.Trigger>\n    </ComboboxPrimitive.Control>\n  );\n};\n\n// ============================================================================\n// Combobox Content\n// ============================================================================\n\ntype ComboboxContentProps<T extends ValidComponent = \"div\"> = PolymorphicProps<\n  T,\n  ComboboxPrimitiveContentProps<T>\n> &\n  Pick<ComponentProps<T>, \"class\">;\n\nconst ComboboxContent = <T extends ValidComponent = \"div\">(props: ComboboxContentProps<T>) => {\n  const [local, others] = splitProps(props as ComboboxContentProps, [\"class\"]);\n  return (\n    <ComboboxPrimitive.Portal>\n      <ComboboxPrimitive.Content\n        class={cn(\n          \"cn-combobox-content cn-menu-target relative isolate z-50 max-h-(--kb-popper-available-height) min-w-32 origin-(--kb-combobox-content-transform-origin) overflow-y-auto overflow-x-hidden\",\n          local.class,\n        )}\n        data-slot=\"combobox-content\"\n        {...others}\n      >\n        <ComboboxPrimitive.Listbox class=\"cn-combobox-listbox m-0 p-1\" />\n      </ComboboxPrimitive.Content>\n    </ComboboxPrimitive.Portal>\n  );\n};\n\n// ============================================================================\n// Combobox Section (Group)\n// ============================================================================\n\ntype ComboboxSectionProps<T extends ValidComponent = \"li\"> = PolymorphicProps<\n  T,\n  ComboboxPrimitiveSectionProps<T>\n> &\n  Pick<ComponentProps<T>, \"class\">;\n\nconst ComboboxSection = <T extends ValidComponent = \"li\">(props: ComboboxSectionProps<T>) => {\n  const [local, others] = splitProps(props as ComboboxSectionProps, [\"class\"]);\n  return (\n    <ComboboxPrimitive.Section\n      class={cn(\"cn-combobox-section\", local.class)}\n      data-slot=\"combobox-section\"\n      {...others}\n    />\n  );\n};\n\n// ============================================================================\n// Combobox Section Label\n// ============================================================================\n\ntype ComboboxSectionLabelProps = ComponentProps<\"span\"> & {\n  class?: string;\n};\n\nconst ComboboxSectionLabel = (props: ComboboxSectionLabelProps) => {\n  const [local, others] = splitProps(props, [\"class\"]);\n  return (\n    <span\n      class={cn(\"cn-combobox-section-label cn-select-label\", local.class)}\n      data-slot=\"combobox-section-label\"\n      {...others}\n    />\n  );\n};\n\n// ============================================================================\n// Combobox Item\n// ============================================================================\n\ntype ComboboxItemProps<T extends ValidComponent = \"li\"> = PolymorphicProps<\n  T,\n  ComboboxPrimitiveItemProps<T>\n> &\n  Pick<ComponentProps<T>, \"class\"> & {\n    children?: JSX.Element;\n  };\n\nconst ComboboxItem = <T extends ValidComponent = \"li\">(props: ComboboxItemProps<T>) => {\n  const [local, others] = splitProps(props as ComboboxItemProps, [\"class\", \"children\"]);\n  return (\n    <ComboboxPrimitive.Item\n      class={cn(\n        \"cn-combobox-item cn-select-item relative flex w-full cursor-default select-none items-center outline-hidden data-disabled:pointer-events-none data-disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0\",\n        local.class,\n      )}\n      data-slot=\"combobox-item\"\n      {...others}\n    >\n      <ComboboxPrimitive.ItemLabel class=\"cn-combobox-item-label cn-select-item-text shrink-0 whitespace-nowrap\">\n        {local.children}\n      </ComboboxPrimitive.ItemLabel>\n      <ComboboxPrimitive.ItemIndicator\n        as=\"span\"\n        class=\"cn-combobox-item-indicator cn-select-item-indicator\"\n      >\n        <Check class=\"cn-combobox-item-indicator-icon cn-select-item-indicator-icon pointer-events-none\" />\n      </ComboboxPrimitive.ItemIndicator>\n    </ComboboxPrimitive.Item>\n  );\n};\n\n// ============================================================================\n// Combobox Empty\n// ============================================================================\n\ntype ComboboxEmptyProps = ComponentProps<\"div\"> & {\n  class?: string;\n};\n\nconst ComboboxEmpty = (props: ComboboxEmptyProps) => {\n  const [local, others] = splitProps(props, [\"class\"]);\n  return (\n    <div\n      class={cn(\"cn-combobox-empty py-6 text-center text-sm\", local.class)}\n      data-slot=\"combobox-empty\"\n      {...others}\n    />\n  );\n};\n\n// ============================================================================\n// Combobox Separator\n// ============================================================================\n\ntype ComboboxSeparatorProps<T extends ValidComponent = \"hr\"> = ComponentProps<T> & {\n  class?: string;\n};\n\nconst ComboboxSeparator = <T extends ValidComponent = \"hr\">(\n  props: PolymorphicProps<T, ComboboxSeparatorProps<T>>,\n) => {\n  const [local, others] = splitProps(props as ComboboxSeparatorProps, [\"class\"]);\n  return (\n    <hr\n      class={cn(\"cn-combobox-separator cn-select-separator pointer-events-none\", local.class)}\n      data-slot=\"combobox-separator\"\n      {...others}\n    />\n  );\n};\n\nexport {\n  Combobox,\n  ComboboxContent,\n  ComboboxControl,\n  ComboboxEmpty,\n  ComboboxInput,\n  ComboboxItem,\n  ComboboxSection,\n  ComboboxSectionLabel,\n  ComboboxSeparator,\n  ComboboxTrigger,\n};\n",
      "type": "registry:ui"
    }
  ],
  "type": "registry:ui"
}
